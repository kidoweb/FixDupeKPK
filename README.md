# Fix Dupe KPK (КПК) для S.T.A.L.K.E.R. Call of Chernobyl

Этот мод исправляет дюп денег через КПК в S.T.A.L.K.E.R. Call of Chernobyl - Global War.

## Проблема

В оригинальной игре можно было дюпать деньги следующим способом:
1. Найти КПК в трупе
2. Сдать КПК информационному брокеру через диалог
3. Зайти в торговое окно и выкупить КПК по 1₽ за штуку
4. Повторять пункты 2 и 3

## Решение

Мод устраняет дюп следующими способами:

### 1. Запрет торговли КПК через торговое окно
- КПК больше нельзя купить или продать через торговое окно
- Установлена нулевая цена покупки/продажи для торговцев
- Параметр `can_trade = false` для всех КПК

### 2. Защита от обхода через скрипты
- КПК, купленные у торговцев, помечаются специальным флагом
- Информационный брокер не принимает КПК с флагом "купленный у торговца"
- Дополнительная проверка времени покупки

### 3. Ограничение частоты торговли
- Можно продавать КПК информационному брокеру не чаще чем раз в 5 минут
- Предотвращает спам торговли КПК

## Установка

1. Скопируйте файлы из папки `gamedata` в папку `gamedata` вашей игры
2. Перезапустите игру

## Измененные файлы

- `gamedata/configs/misc/items.ltx` - настройки КПК
- `gamedata/scripts/dialogs.script` - логика торговли КПК
- `gamedata/configs/misc/trade/profiles/modded/misc_modded.ltx` - торговые настройки

## Что остается работать

- Продажа КПК информационному брокеру через диалог
- Нормальный геймплей с поиском и сдачей КПК
- Все остальные механики игры

## Что исправлено

- Дюп денег через КПК полностью устранен
- КПК нельзя купить обратно у торговцев
- Невозможно перепродавать одни и те же КПК

## Автор

Исправление создано для устранения эксплойта дюпа денег в Call of Chernobyl - Global War.

## Лицензия

MIT.
